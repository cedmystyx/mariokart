<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Mario Kart 3D - Vidéo + Kart + Volant</title>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background: #000; }
    video { display: none; }
  </style>
</head>
<body>

<!-- Vidéo 360° -->
<video id="kartVideo" muted playsinline autoplay loop crossorigin="anonymous">
  <source src="mario/kart.mp4" type="video/mp4">
</video>

<a-scene embedded>
  <!-- Fond vidéo -->
  <a-videosphere id="skydome" src="#kartVideo" rotation="0 270 0"></a-videosphere>

  <!-- Kart -->
  <a-entity
    id="kart"
    gltf-model="kart/VOITURE_COMPLETE.gltf"
    scale="13 13 13"
    position="0 -6.2 -1.8"
    rotation="0 0 0">
  </a-entity>

  <!-- Volant -->
  <a-entity id="volantPivot" position="-0.13 -2.4 -4.64" rotation="0 0 0">
    <a-obj-model
      id="volant"
      src="kart/volant.obj"
      scale="10 10 10"
      material="color: black"
      rotation="-69 -87 177">
    </a-obj-model>
  </a-entity>
</a-scene>

<script>
  // Lecture forcée de la vidéo au chargement
  window.addEventListener("load", () => {
    const video = document.getElementById("kartVideo");
    video.play().catch(err => console.warn("Erreur lecture vidéo :", err));
  });
</script>

</body>
</html>
